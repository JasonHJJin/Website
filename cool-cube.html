<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Spinning Cube Animation</title>
<style>
  body { display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
  canvas { border: 1px solid black; }
</style>
</head>
<body>
<canvas id="canvas"></canvas>
<script>
  const canvas = document.getElementById('canvas');
  const ctx = canvas.getContext('2d');
  canvas.width = 160;
  canvas.height = 120;

  let A = 0, B = 0, C = 0;
  const cubeWidth = 20;
  const distanceFromCam = 100;
  const K1 = 40;
  const incrementSpeed = 0.6;

  function project(x, y, z) {
    const ooz = 1 / (z + distanceFromCam);
    const xp = canvas.width / 2 + K1 * ooz * x * 2;
    const yp = canvas.height / 2 + K1 * ooz * y;
    return {xp, yp};
  }

  function drawCube() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    for (let i = -cubeWidth; i < cubeWidth; i += incrementSpeed) {
      for (let j = -cubeWidth; j < cubeWidth; j += incrementSpeed) {
        ['front', 'back', 'left', 'right', 'top', 'bottom'].forEach((face) => {
          drawFace(i, j, face);
        });
      }
    }
  }

  function drawFace(i, j, face) {
    let x, y, z, c;
    switch (face) {
      case 'front':
        x = i;
        y = j;
        z = -cubeWidth;
        c = 'red';
        break;
      case 'back':
        x = i;
        y = j;
        z = cubeWidth;
        c = 'green';
        break;
      case 'left':
        x = -cubeWidth;
        y = i;
        z = j;
        c = 'blue';
        break;
      case 'right':
        x = cubeWidth;
        y = i;
        z = j;
        c = 'yellow';
        break;
      case 'top':
        x = i;
        y = -cubeWidth;
        z = j;
        c = 'purple';
        break;
      case 'bottom':
        x = i;
        y = cubeWidth;
        z = j;
        c = 'orange';
        break;
    }
    const rotated = rotate(x, y, z);
    const {xp, yp} = project(rotated.x, rotated.y, rotated.z);
    ctx.fillStyle = c;
    ctx.fillRect(xp, yp, 2, 2); // Draw a small rectangle for each point
  }

  function rotate(x, y, z) {
    const sinA = Math.sin(A), cosA = Math.cos(A);
    const sinB = Math.sin(B), cosB = Math.cos(B);
    const sinC = Math.sin(C), cosC = Math.cos(C);

    const xNew = x * cosB * cosC + y * (sinA * sinB * cosC + cosA * sinC) + z * (cosA * sinB * cosC - sinA * sinC);
    const yNew = x * -cosB * sinC + y * (-sinA * sinB * sinC + cosA * cosC) + z * (-cosA * sinB * sinC - sinA * cosC);
    const zNew = x * sinB + y * -sinA * cosB + z * cosA * cosB;

    return {x: xNew, y: yNew, z: zNew};
  }

  function animate() {
    A += 0.05;
    B += 0.05;
    C += 0.01;
    drawCube();
    requestAnimationFrame(animate);
  }

  animate();
</script>
</body>
</html>
